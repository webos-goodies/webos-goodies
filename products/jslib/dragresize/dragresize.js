(function(){function d(a,b){b=b||{};this.c=a=o(a);this.minWidth=b.minWidth;this.minHeight=b.minHeight;this.scroll=b.scroll;this.m=b.onclick;this.n=b.ondrag;this.o=b.onfinish;this.g=b.scope;this.l={};this.b=[];var c=o(b.dragHandle),e=o(b.resizeHandle);if(c||e!=a){this.f=c||a;this.b.push(l(this.f,"mousedown",this.Q,this));this.b.push(l(this.f,"click",this.L,this))}if(this.f!=a||e&&e!=this.f){this.p=e||a;this.b.push(l(this.p,"mousedown",this.U,this));this.b.push(l(this.p,"click",this.L,this))}c=b.ignoreTags;
if(typeof c==="string")c=[c];if(c)for(e=0;e<c.length;++e)this.l[c[e].toUpperCase()]=true}function r(a,b){return function(){return a.apply(b,arguments)}}function l(a,b,c,e){c=r(c,e);a.addEventListener?a.addEventListener(b,c,false):a.attachEvent("on"+b,c);return{k:a,type:b,G:c}}function m(a){a.stopPropagation&&a.stopPropagation();a.preventDefault&&a.preventDefault();a.cancelBubble=true;a.returnValue=false}function o(a){return typeof a==="string"?p.getElementById(a):a}function t(){return{x:i.scrollLeft,
y:i.scrollTop}}function u(){return{x:j.pageXOffset,y:j.pageYOffset}}function v(){return{x:n.scrollLeft,y:n.scrollTop}}function w(){return{x:j.innerWidth,y:j.innerHeight}}function x(){return{x:i.clientWidth,y:i.clientHeight}}function y(){return{x:n.offsetWidth,y:n.clientHeight}}var j=window,p=document,i=document.documentElement,n=document.body,q=typeof j.pageXOffset=="number"?u:i&&i.clientWidth?t:v,s=j.innerWidth?w:i&&i.clientWidth?x:y;d.minWidth=100;d.minHeight=100;d.a=null;d.D=!!j.V;d.R=function(a){var b=
d.a;if(b)if(d.D&&!(document.documentMode&&document.documentMode>=8)&&!(a.button&1))d.h();else{b.d=a.clientX;b.e=a.clientY;d.D&&m(a);(a=b.i)&&typeof a.n=="function"&&a.n.call(a.g,a.c,b.d,b.e)}};d.S=function(a){var b=d.a,c=q();try{if(b){var e=b.i;e&&typeof e.m=="function"&&b.z+b.s==a.clientX+c.x&&b.A+b.t==a.clientY+c.y&&e.m.call(e.g,a)}}finally{d.h()}};d.h=function(){var a=d.a;d.a=null;if(a){a.F&&clearInterval(a.F);var b=a.i;b&&typeof b.o=="function"&&b.o.call(b.g,b.c,a.d,a.e)}};d.prototype.Q=function(a){if(!this.j(a)){m(a);
a=d.a=this.w(a,this.P);var b=this.c;a.u=b.offsetLeft;a.v=b.offsetTop;a.J=0;a.K=0;a.H=i.scrollWidth-b.offsetWidth;a.I=i.scrollHeight-b.offsetHeight}};d.prototype.P=function(){this.O(function(a,b,c,e,f){b.style.left=c+"px";b.style.top=e+"px";if(this.scroll){a=s();var k=c+b.offsetWidth;b=e+b.offsetHeight;var g=f.x,h=f.y;c<g?g=c:k>g+a.x&&(g=k-a.x);e<h?h=e:b>h+a.y&&(h=b-a.y);(g!=f.x||h!=f.y)&&j.scroll(g,h)}})};d.prototype.U=function(a){if(!this.j(a)){m(a);a=d.a=this.w(a,this.T);var b=this.c,c=typeof this.minWidth==
"number"?this.minWidth:d.minWidth,e=typeof this.minHeight=="number"?this.minHeight:d.minHeight;a.u=b.offsetLeft+b.offsetWidth;a.v=b.offsetTop+b.offsetHeight;a.q=b.offsetWidth-b.clientWidth;a.r=b.offsetHeight-b.clientHeight;a.J=b.offsetLeft+a.q+c;a.K=b.offsetTop+a.r+e;a.H=i.scrollWidth;a.I=b.style.position!="absolute"?65536:i.scrollHeight}};d.prototype.T=function(){this.O(function(a,b,c,e,f){b.style.width=c-b.offsetLeft-a.q+"px";b.style.height=e-b.offsetTop-a.r+"px";if(this.scroll){a=s();var k=b.offsetLeft;
b=b.offsetTop;var g=f.x,h=f.y;k<g&&(g=k);c>g+a.x&&(g=c-a.x);b<h&&(h=b);e>h+a.y&&(h=e-a.y);(g!=f.x||h!=f.y)&&j.scroll(g,h)}})};d.prototype.L=function(a){this.j(a)||m(a)};d.prototype.j=function(a){for(a=a.target||a.srcElement;a;){if(a.nodeType==1&&this.l[a.tagName.toUpperCase()])return a;a=a.parentNode}return null};d.prototype.w=function(a,b){m(a);d.h();var c=q(),e=a.clientX,f=a.clientY,k=c.x;c=c.y;return{i:this,F:setInterval(r(b,this),30),z:e,A:f,d:e,e:f,M:e,N:f,s:k,t:c,B:k,C:c,W:k,X:c}};d.prototype.O=
function(a){var b=d.a,c=q();if(b.d!=b.M||b.e!=b.N||b.B!=c.x||b.C!=c.y){a.call(this,b,this.c,Math.min(Math.max(b.u+b.d-b.z+c.x-b.s,b.J),b.H),Math.min(Math.max(b.v+b.e-b.A+c.y-b.t,b.K),b.I),c);b.M=b.d;b.N=b.e;b.B=c.x;b.C=c.y}};d.prototype.detach=function(){for(d.a&&d.a.i==this&&d.h();this.b.length>0;){var a=this.b.pop();a.k.addEventListener?a.k.removeEventListener(a.type,a.G,false):a.k.detachEvent("on"+a.type,a.G)}this.c=this.f=this.p=this.m=this.n=this.o=this.g=this.l=this.b=null};l(p,"mouseup",d.S,
d);l(p,"mousemove",d.R,d);j.DragResize=d})();
