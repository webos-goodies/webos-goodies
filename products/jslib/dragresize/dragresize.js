(function(){function d(a,b){b=b||{};this.b=a=o(a);this.minWidth=b.minWidth;this.minHeight=b.minHeight;this.scroll=b.scroll;this.J=b.onclick;this.K=b.ondrag;this.L=b.onfinish;this.k=b.scope;this.A={};this.e=[];var c=o(b.dragHandle),e=o(b.resizeHandle);if(c||e!=a){this.f=c||a;this.e.push(l(this.f,"mousedown",this.Q,this));this.e.push(l(this.f,"click",this.I,this))}if(this.f!=a||e&&e!=this.f){this.l=e||a;this.e.push(l(this.l,"mousedown",this.U,this));this.e.push(l(this.l,"click",this.I,this))}c=b.ignoreTags;
if(typeof c==="string")c=[c];if(c)for(e=0;e<c.length;++e)this.A[c[e].toUpperCase()]=true}function r(a,b){return function(){return a.apply(b,arguments)}}function l(a,b,c,e){c=r(c,e);a.addEventListener?a.addEventListener(b,c,false):a.attachEvent("on"+b,c);return{j:a,type:b,C:c}}function m(a){a.stopPropagation&&a.stopPropagation();a.preventDefault&&a.preventDefault();a.cancelBubble=true;a.returnValue=false}function o(a){return typeof a==="string"?p.getElementById(a):a}function t(){return{x:i.scrollLeft,
y:i.scrollTop}}function u(){return{x:j.pageXOffset,y:j.pageYOffset}}function v(){return{x:n.scrollLeft,y:n.scrollTop}}function w(){return{x:j.innerWidth,y:j.innerHeight}}function x(){return{x:i.clientWidth,y:i.clientHeight}}function y(){return{x:n.offsetWidth,y:n.clientHeight}}var j=window,p=document,i=document.documentElement,n=document.body,q=typeof j.pageXOffset=="number"?u:i&&i.clientWidth?t:v,s=j.innerWidth?w:i&&i.clientWidth?x:y;d.minWidth=100;d.minHeight=100;d.a=null;d.z=!!j.V;d.R=function(a){var b=
d.a;if(b)if(d.z&&!(document.documentMode&&document.documentMode>=8)&&!(a.button&1))d.g();else{b.c=a.clientX;b.d=a.clientY;d.z&&m(a);(a=b.h)&&typeof a.K=="function"&&a.K.call(a.k,a.b,b.c,b.d)}};d.S=function(a){var b=d.a,c=q();try{if(b){var e=b.h;e&&typeof e.J=="function"&&b.t+b.o==a.clientX+c.x&&b.u+b.p==a.clientY+c.y&&e.J.call(e.k,a)}}finally{d.g()}};d.g=function(){var a=d.a;d.a=null;if(a){a.B&&clearInterval(a.B);var b=a.h;b&&typeof b.L=="function"&&b.L.call(b.k,b.b,a.c,a.d)}};d.prototype.Q=function(a){if(!this.i(a)){m(a);
a=d.a=this.s(a,this.P);var b=this.b;a.q=b.offsetLeft;a.r=b.offsetTop;a.G=0;a.H=0;a.D=i.scrollWidth-b.offsetWidth;a.F=i.scrollHeight-b.offsetHeight}};d.prototype.P=function(){this.O(function(a,b,c,e,f){b.style.left=c+"px";b.style.top=e+"px";if(this.scroll){a=s();var k=c+b.offsetWidth;b=e+b.offsetHeight;var g=f.x,h=f.y;c<g?g=c:k>g+a.x&&(g=k-a.x);e<h?h=e:b>h+a.y&&(h=b-a.y);(g!=f.x||h!=f.y)&&j.scroll(g,h)}})};d.prototype.U=function(a){if(!this.i(a)){m(a);a=d.a=this.s(a,this.T);var b=this.b,c=typeof this.minWidth==
"number"?this.minWidth:d.minWidth,e=typeof this.minHeight=="number"?this.minHeight:d.minHeight;a.q=b.offsetLeft+b.offsetWidth;a.r=b.offsetTop+b.offsetHeight;a.m=b.offsetWidth-b.clientWidth;a.n=b.offsetHeight-b.clientHeight;a.G=b.offsetLeft+a.m+c;a.H=b.offsetTop+a.n+e;a.D=i.scrollWidth;a.F=b.style.position!="absolute"?65536:i.scrollHeight}};d.prototype.T=function(){this.O(function(a,b,c,e,f){b.style.width=c-b.offsetLeft-a.m+"px";b.style.height=e-b.offsetTop-a.n+"px";if(this.scroll){a=s();var k=b.offsetLeft;
b=b.offsetTop;var g=f.x,h=f.y;k<g&&(g=k);c>g+a.x&&(g=c-a.x);b<h&&(h=b);e>h+a.y&&(h=e-a.y);(g!=f.x||h!=f.y)&&j.scroll(g,h)}})};d.prototype.I=function(a){this.i(a)||m(a)};d.prototype.i=function(a){for(a=a.target||a.srcElement;a;){if(a.nodeType==1&&this.A[a.tagName.toUpperCase()])return a;a=a.parentNode}return null};d.prototype.s=function(a,b){m(a);d.g();var c=q(),e=a.clientX,f=a.clientY,k=c.x;c=c.y;return{h:this,B:setInterval(r(b,this),30),t:e,u:f,c:e,d:f,M:e,N:f,o:k,p:c,v:k,w:c,W:k,X:c}};d.prototype.O=
function(a){var b=d.a,c=q();if(b.c!=b.M||b.d!=b.N||b.v!=c.x||b.w!=c.y){a.call(this,b,this.b,Math.min(Math.max(b.q+b.c-b.t+c.x-b.o,b.G),b.D),Math.min(Math.max(b.r+b.d-b.u+c.y-b.p,b.H),b.F),c);b.M=b.c;b.N=b.d;b.v=c.x;b.w=c.y}};d.prototype.detach=function(){for(d.a&&d.a.h==this&&d.g();this.e.length>0;){var a=this.e.pop();a.j.addEventListener?a.j.removeEventListener(a.type,a.C,false):a.j.detachEvent("on"+a.type,a.C)}this.b=this.f=this.l=null};l(p,"mouseup",d.S,d);l(p,"mousemove",d.R,d);j.DragResize=d})();
