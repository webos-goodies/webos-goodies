(function(){var g=this;
function h(a){var b=typeof a;if(b=="object")if(a){if(a instanceof Array||!(a instanceof Object)&&Object.prototype.toString.call(a)=="[object Array]"||typeof a.length=="number"&&typeof a.splice!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("splice"))return"array";if(!(a instanceof Object)&&(Object.prototype.toString.call(a)=="[object Function]"||typeof a.call!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("call")))return"function"}else return"null";else if(b==
"function"&&typeof a.call=="undefined")return"object";return b}function i(a){var b=h(a);return b=="array"||b=="object"&&typeof a.length=="number"}function k(a){return typeof a=="string"}function l(a){a=h(a);return a=="object"||a=="array"||a=="function"}function m(a){var b=h(a);if(b=="object"||b=="array"){if(a.e)return a.e.call(a);b=b=="array"?[]:{};for(var c in a)b[c]=m(a[c]);return b}return a};var n=Array.prototype,o=n.forEach?function(a,b,c){n.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=k(a)?a.split(""):a,e=0;e<d;e++)e in f&&b.call(c,f[e],e,a)};function p(){return n.concat.apply(n,arguments)}function q(a){if(h(a)=="array")return p(a);else{for(var b=[],c=0,d=a.length;c<d;c++)b[c]=a[c];return b}};function r(a,b,c){for(var d in a)b.call(c,a[d],d,a)};var s=/^[a-zA-Z0-9\-_.!~*'()]*$/;function t(a){a=String(a);if(!s.test(a))return encodeURIComponent(a);return a}function u(a,b){if(b)return a.replace(v,"&amp;").replace(y,"&lt;").replace(z,"&gt;").replace(A,"&quot;");else{if(!B.test(a))return a;if(a.indexOf("&")!=-1)a=a.replace(v,"&amp;");if(a.indexOf("<")!=-1)a=a.replace(y,"&lt;");if(a.indexOf(">")!=-1)a=a.replace(z,"&gt;");if(a.indexOf('"')!=-1)a=a.replace(A,"&quot;");return a}}var v=/&/g,y=/</g,z=/>/g,A=/\"/g,B=/[&<>\"]/;
function C(){return Array.prototype.join.call(arguments,"")}(Date.now||function(){return+new Date})();var D,E,F,G;function H(){return g.navigator?g.navigator.userAgent:null}G=F=E=D=false;var I;if(I=H()){var J=g.navigator;D=I.indexOf("Opera")==0;E=!D&&I.indexOf("MSIE")!=-1;F=!D&&I.indexOf("WebKit")!=-1;G=!D&&!F&&J.product=="Gecko"}var K=E,L=G,M=F,N="",O;if(D&&g.opera){var P=g.opera.version;N=typeof P=="function"?P():P}else{if(L)O=/rv\:([^\);]+)(\)|;)/;else if(K)O=/MSIE\s+([^\);]+)(\)|;)/;else if(M)O=/WebKit\/(\S+)/;if(O){var Q=O.exec(H());N=Q?Q[1]:""}};function R(a,b){r(b,function(c,d){if(d=="style")a.style.cssText=c;else if(d=="class")a.className=c;else if(d=="for")a.htmlFor=c;else if(d in S)a.setAttribute(S[d],c);else a[d]=c})}var S={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",height:"height",width:"width",usemap:"useMap",frameborder:"frameBorder",type:"type"};function T(){return U(document,arguments)}
function U(a,b){var c=b[0],d=b[1];if(K&&d&&(d.name||d.type)){c=["<",c];d.name&&c.push(' name="',u(d.name),'"');if(d.type){c.push(' type="',u(d.type),'"');d=m(d);delete d.type}c.push(">");c=c.join("")}var f=a.createElement(c);if(d)if(k(d))f.className=d;else R(f,d);if(b.length>2){d=function(j){if(j)f.appendChild(k(j)?a.createTextNode(j):j)};for(c=2;c<b.length;c++){var e=b[c];i(e)&&!(l(e)&&e.nodeType>0)?o(V(e)?q(e):e,d):d(e)}}return f}
function W(a,b){var c=a.createElement("div");c.innerHTML=b;if(c.childNodes.length==1)return c.firstChild;else{for(a=a.createDocumentFragment();c.firstChild;)a.appendChild(c.firstChild);return a}}function X(a,b){a.appendChild(b)}function V(a){if(a&&typeof a.length=="number")if(l(a))return typeof a.item=="function"||typeof a.item=="string";else if(h(a)=="function")return typeof a.item=="function";return false};function Y(a){a=a||{};this.g=a.key;this.b=a.template||"";this.d=a.formatter||{};this.c=a.callbackName||Z}function $(a){a=a.replace("<","&lt;").replace(">","&gt;");return a=a.replace('"',"&quot;").replace("'","&#39;")}var Z="";Y.prototype.a=[];Y.prototype.j=function(a){this.b=a};Y.prototype.i=function(a){this.d=a};
Y.prototype.h=function(a,b,c){if(!this.b)throw"FeedRenderer : The template string must be set.";if(!this.c)throw"FeedRenderer : The callback name must be set.";a=["http://ajax.googleapis.com/ajax/services/feed/load?v=1.0&output=json&callback=",t(this.c),"&q=",t(a),"&context=",this.a.length];var d=this.g;if(c)a=p(a,["&num=",t(c)]);if(d)a=p(a,["&key=",t(d)]);this.a.push({element:b,k:this.b,f:this.d});b=T("script",{type:"text/javascript",src:C.apply(C,a)});document.body.appendChild(b)};window.FeedRenderer=Y;Y.processResponse=function(a,b,c,d){if(!b||c<200||300<=c)throw"FeedRenderer : "+d;if(a=Y.prototype.a[a-0]){var f=[],e=a.k||"",j=a.f||{};a=a.element||"";o(b.feed.entries,function(w,aa){f[aa]=e.replace(/%([^%]*)%/g,function(ba,x){return x in w?(j[x]||$)(w[x],w):""})});if(h(a)=="function")a(f,b);else{f=f.join("");l(a)&&a.nodeType>0||(a=k(a)?document.getElementById(a):a);a&&X(a,W(document,f))}}};Y.prototype.setTemplate=Y.prototype.j;Y.prototype.setFormatter=Y.prototype.i;
Y.prototype.render=Y.prototype.h;Z="FeedRenderer.processResponse";
})();