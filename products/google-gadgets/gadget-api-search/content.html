<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>

<head>

<meta http-equiv="content-type" content="text/html; charset=utf-8"/>
<title>Gadget API Search</title>
<link href="http://www.google.com/uds/css/gsearch.css" type="text/css" rel="stylesheet"/>
<style>
.gsc-control{ width:100%; height:auto; }
.gsc-control form.gsc-search-box { display : none; }
</style>
<script src="http://www.google.com/uds/api?file=uds.js&amp;v=1.0&amp;key=ABQIAAAADFolcpMzeDEXDBR65zomPRSvE0WE6BAILgNm2YPNluwSG-1tNhRONhe9Cu6y-PX0GCBqZtSRdltgDA" type="text/javascript"></script>

<script language="Javascript" type="text/javascript">
if(document.location.href.match(/[?&]libs=([-0-9a-zA-Z_,\/\.]+)/))
{
  var libs = RegExp.$1.match(/[^,]+/g);
  for(var i in libs)
  {
    document.write('<scr' + 'ipt src="http://www.google.com/ig/f/' + libs[i] + '"></scr' + 'ipt>');
  }
}
</script>

<script language="Javascript" type="text/javascript">

function cse(refinement)
{
  this.searchControl = new GSearchControl();
  this.searchForm    = new GSearchForm(true, document.getElementById('searchform'));
  var webSearch      = new GwebSearch();
  var options        = new GsearcherOptions();

  this.searchForm.setOnSubmitCallback(this, cse.prototype.onSubmit);
  this.searchForm.setOnClearCallback(this, cse.prototype.onClear);

  webSearch.setSiteRestriction('011600946954025377643:2aaama1qlqo', refinement);
  options.setExpandMode(GSearchControl.EXPAND_MODE_OPEN);
  this.searchControl.addSearcher(webSearch, options);

  this.searchControl.setSearchCompleteCallback(this, cse.prototype.onSearchCompleted);
  this.searchControl.draw(document.getElementById('searchcontrol'));
}

cse.prototype.onSubmit = function(form)
{
  var q = form.input.value;
  if (q && q != '')
  {
    this.searchControl.execute(q);
  }
  return false;
}

cse.prototype.onClear = function(form)
{
  this.searchControl.clearAllResults();
  form.input.value = '';
  this.adjustGadgetHeight();
  return false;
}

cse.prototype.onSearchCompleted = function(searchControl, searcher)
{
  this.adjustGadgetHeight();
}

cse.prototype.adjustGadgetHeight = function()
{
  _IG_AdjustIFrameHeight(_gel('wrap').offsetHeight+16);
}

function OnLoad()
{
  var args = _args()
  var max_height = parseInt(args['up_max_height']);
  var japanese   = parseInt(args['up_japanese']);
  if(max_height)
  {
    document.getElementById('wrap').style.maxHeight = max_height + 'px';
  }

  new cse(japanese && japanese != 0 ? '日本語' : null);
}

</script>
</head>

<body onload="OnLoad()" style="padding:0px;margin:4px 0px;">
<div id="wrap" style="overflow:auto;">
<div id="searchform" style="font-size:12px;"></div>
<div id="searchcontrol" style="font-size:12px;"></div>
</div>
</body>

</html>
